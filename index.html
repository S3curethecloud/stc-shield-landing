<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>STC Shield ‚Äî Console Preview</title>

  <!-- Core styles -->
  <link rel="stylesheet" href="/css/shield.css" />
  <link rel="stylesheet" href="/css/shield-console.css" />

  <!-- üîí GOVERNED CSP (API ENABLED) -->
  <meta
    http-equiv="Content-Security-Policy"
    content="
      default-src 'self';
      script-src 'self';
      style-src 'self' 'unsafe-inline';
      connect-src 'self' https://stc-intelligence-core.fly.dev;
      img-src 'self' data:;
    "
  />
</head>

<body>

<nav class="console-nav">
  <a href="/" class="back-link" aria-label="Back to STC Shield landing">
    ‚Üê Back to STC Shield
  </a>
</nav>

<main class="console-layout">

  <!-- =========================
       LEFT: FINDINGS
       ========================= -->
  <aside class="console-findings">

    <h2>
      Shield Findings
    </h2>

    <div id="findings-count"></div>

    <div id="findings-list"
         role="listbox"
         aria-label="Shield findings"
         aria-activedescendant="">
    </div>

    <p class="panel-footnote">
      Findings are computed deterministically from identity graphs.
    </p>

  </aside>

  <!-- =========================
       CENTER: DETAIL
       ========================= -->
  <section class="console-detail"
           role="region"
           aria-labelledby="finding-title">

    <h2 id="finding-title">
      Finding Detail
    </h2>

    <div class="detail-block">
      <h3>Why is this reachable?</h3>
      <p id="finding-summary">‚Äî</p>
    </div>

    <div class="detail-block">
      <h3>Impact</h3>
      <p id="finding-impact">‚Äî</p>
    </div>

    <div class="detail-block">
      <h3>Constraints</h3>
      <ul>
        <li>Read-only visibility</li>
        <li>No configuration mutation</li>
        <li>No automated remediation</li>
      </ul>
    </div>

    <div>
      <a id="finding-lab-link" href="#" style="display:none;">
        View linked lab ‚Üí
      </a>
    </div>

    <div>
      <strong>Attack path:</strong>
      <div id="finding-attackpath">‚Äî</div>
    </div>

  </section>

  <!-- =========================
       RIGHT: AI
       ========================= -->
  <aside class="console-ai"
         role="region"
         aria-labelledby="ai-heading"
         aria-live="polite"
         aria-busy="false">

    <h2 id="ai-heading">
      AI-Augmented Reasoning
    </h2>

    <p class="ai-state disabled ai-subtitle">
      Select a finding to enable AI explanations.
    </p>

    <button
      class="ai-btn btn secondary disabled"
      aria-disabled="true"
      disabled>
      Explain with STC AI
    </button>

    <div class="ai-output">

      <h3>Explanation</h3>
      <p id="ai-explanation" class="muted">
        AI explanations are grounded in Shield data only.
      </p>

      <h3>Citations</h3>
      <ul class="citations muted">
        <li>No datasets referenced.</li>
      </ul>

    </div>

  </aside>

</main>

<!-- üî• DATA LAYER -->
<script src="/js/console-data.js"></script>

<!-- üî• AI LAYER -->
<script src="/js/console-ai.js"></script>

</body>
</html>
