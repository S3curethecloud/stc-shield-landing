<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>STC Shield Console — Preview</title>
  <meta
    name="description"
    content="STC Shield operator console preview. Read-only identity attack-path visibility."
  />

  <!-- Use the SAME platform theme (gold/black) -->
  <link rel="stylesheet" href="/assets/css/stc.css" />
  <!-- Console-only layout rules (minimal, no churn) -->
  <link rel="stylesheet" href="/assets/css/shield-console.css" />
</head>

<body>

  <!-- Background grid (same platform feel) -->
  <div class="bg-grid" aria-hidden="true"></div>

  <!-- ====================================== -->
  <!-- CANONICAL TOPBAR (SHARED ACROSS ALL)   -->
  <!-- ====================================== -->
  <header class="topbar">
    <div class="container topbar__inner">
      <a class="brand" href="/" aria-label="SecureTheCloud Home">
        <span class="brand__mark">STC</span>
        <span class="brand__name">SecureTheCloud</span>
      </a>

      <nav class="nav" aria-label="Primary">
        <a href="/">Home</a>
        <a href="/shield/" class="active" aria-current="page">Shield</a>
        <a href="/copilot/">Copilot</a>
        <a href="/ecosystem/">Ecosystem</a>
        <a href="/riskdna/">RiskDNA</a>
        <a href="/aegis-air/">Aegis-Air</a>
        <a href="/labs/">Labs</a>
        <a href="/media/">Media</a>
        <a href="/consultancy/">Consultancy</a>
      </nav>

      <div class="topbar__actions">
        <!-- Console points to the one operator surface -->
        <a class="btn btn--ghost is-active" href="/shield/preview/" aria-current="page">Console</a>
        <!-- Launch Shield goes to the Shield module landing -->
        <a class="btn btn--primary" href="/shield/">Launch Shield</a>
      </div>
    </div>
  </header>

  <!-- ====================================== -->
  <!-- CONSOLE STATUS BAR (OPERATOR-ONLY)     -->
  <!-- ====================================== -->
  <section class="container consolebar" aria-label="Console status">
    <div class="consolebar__left">
      <div class="consolebar__title">
        STC Shield <span class="muted">Console Preview</span>
      </div>
      <div class="consolebar__sub muted">
        Read-only operator surface. No configuration changes.
      </div>
    </div>

    <div class="consolebar__right">
      <span class="badge readonly">Read-only</span>
      <span class="badge preview">Preview</span>
    </div>
  </section>

  <!-- ====================================== -->
  <!-- CONSOLE LAYOUT                         -->
  <!-- ====================================== -->
  <main class="container console-layout">

    <!-- LEFT: Findings / Navigation -->
    <aside class="card console-sidebar" aria-label="Findings navigation">
      <h3>Findings</h3>

      <!-- PLACEHOLDER LIST ONLY (no data logic in v1.0 skeleton) -->
      <ul class="finding-list" aria-label="Finding list (placeholder)">
        <li class="finding active">Critical Identity Paths</li>
        <li class="finding">High-Risk Roles</li>
        <li class="finding">Cross-Account Trust</li>
        <li class="finding">Dormant Privileged Users</li>
      </ul>

      <div class="muted console-note">
        Placeholder list. Live feed wiring comes later.
      </div>
    </aside>

    <!-- CENTER: Main Visualization -->
    <section class="card console-main" aria-label="Truth surface">
      <div class="view-toggle" role="tablist" aria-label="View mode">
        <button class="toggle active" role="tab" aria-selected="true" type="button">
          Table View
        </button>
        <button class="toggle" role="tab" aria-selected="false" type="button">
          Graph View
        </button>
      </div>

      <div class="main-canvas" role="region" aria-label="Main canvas">

        <!-- Attack Path Map (Graph) -->
        <section class="card" id="attack-path-map" style="margin-top:16px;">

          <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
            <h2 style="margin:0;">Attack Path Map</h2>

            <div style="display:flex;gap:8px;flex-wrap:wrap;">
              <button class="btn btn--ghost" id="graph-zoom-out" type="button">Zoom −</button>
              <button class="btn btn--ghost" id="graph-zoom-in" type="button">Zoom +</button>
              <button class="btn btn--ghost" id="graph-reset" type="button">Reset</button>
              <button class="btn btn--ghost" id="graph-fullscreen" type="button">Fullscreen</button>
            </div>
          </div>

          <div id="finding-graph"
               style="margin-top:12px;height:320px;border-radius:14px;overflow:hidden;"
               aria-label="Attack path graph"
               role="img"></div>

          <div id="graph-inspector" class="muted" style="margin-top:10px;">
            Select a node or edge to inspect.
          </div>

          <div class="muted" style="margin-top:10px;">
            Read-only visualization of <code>finding.attack_path</code>. No mutation.
          </div>

        </section>

      </div>
    </section>

    <!-- RIGHT: Context + AI (future) -->
    <aside class="card console-context" aria-label="Context panel">
      <h3>Context</h3>

      <p class="muted">
        Select an identity or attack path to inspect details.
      </p>

      <!-- AI panel placeholder (INTENTIONAL, EMPTY) -->
      <div class="ai-panel-placeholder" aria-label="AI Reasoning (placeholder)">
        <h4>AI Reasoning</h4>
        <p class="muted">
          Available only when a governed finding with a lab anchor is selected.
        </p>
      </div>
    </aside>

  </main>

  <footer class="container console-footer">
    <span>STC Shield • Preview</span>
    <span class="muted">No configuration changes are performed</span>
  </footer>

  <!-- ====================================== -->
  <!-- SCRIPTS (ORDER IS GOVERNED)            -->
  <!-- Graph must load before console-data    -->
  <!-- ====================================== -->
  <script src="/js/shield-graph.js"></script>
  <script src="/js/console-data.js"></script>

</body>
</html>
