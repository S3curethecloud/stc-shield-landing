<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>STC Shield â€” Console Preview</title>

  <!-- Core styles -->
  <link rel="stylesheet" href="/css/shield.css" />
  <link rel="stylesheet" href="/css/shield-console.css" />

  <!-- Security posture (LOCKED) -->
  <meta
    http-equiv="Content-Security-Policy"
    content="
      default-src 'self';
      script-src 'self';
      style-src 'self' 'unsafe-inline';
      connect-src 'self';
      img-src 'self' data:;
    "
  />
</head>

<body>

<main class="console-layout">

  <!-- =========================
       LEFT: FINDINGS
       ========================= -->
  <aside class="console-findings"
         role="listbox"
         aria-label="Shield findings"
         aria-describedby="findings-help">

    <h2
      data-tooltip="Deterministic findings computed from the identity graph. No simulation. No guesswork.">
      Shield Findings
    </h2>

    <p id="findings-help" class="visually-hidden">
      Use arrow keys to navigate findings. Press Enter to select.
    </p>

    <ul class="findings-list">

      <li
        class="finding-item selected"
        role="option"
        tabindex="0"
        aria-selected="true"
        data-finding-id="high-cross-account"
        data-tooltip="Deterministic finding computed from live identity graph. No simulation. No remediation.">
        <span class="severity high">HIGH</span>
        <div>
          <strong>Cross-account role escalation</strong>
          <p>AWS IAM role reachable via Azure federation</p>
        </div>
      </li>

      <li
        class="finding-item"
        role="option"
        tabindex="0"
        aria-selected="false"
        data-finding-id="med-stale-trust"
        data-tooltip="Trust relationship allows access from an external system. Review usage and necessity.">
        <span class="severity medium">MED</span>
        <div>
          <strong>Stale service account trust</strong>
          <p>Unused GCP identity reachable from CI</p>
        </div>
      </li>

      <li
        class="finding-item"
        role="option"
        tabindex="0"
        aria-selected="false"
        data-finding-id="low-overpermissive-read"
        data-tooltip="Broad permissions detected. Impact limited to read-only access.">
        <span class="severity low">LOW</span>
        <div>
          <strong>Over-permissive read access</strong>
          <p>Broad S3 read across multiple accounts</p>
        </div>
      </li>

    </ul>

    <p class="panel-footnote">
      Findings are computed deterministically from identity graphs.
    </p>

  </aside>

  <!-- =========================
       CENTER: DETAIL
       ========================= -->
  <section class="console-detail"
           role="region"
           aria-labelledby="detail-heading">

    <h2 id="detail-heading"
        data-tooltip="Detailed explanation of why this identity or path is reachable.">
      Finding Detail
    </h2>

    <div class="detail-block">
      <h3>Why is this reachable?</h3>
      <p>
        This identity can traverse a trust relationship from Azure Entra ID
        into an AWS account via a federated role with insufficient conditions.
      </p>
    </div>

    <div class="detail-block">
      <h3>Impact</h3>
      <p>
        An attacker with control of this identity could assume privileged
        access across cloud boundaries without direct credential compromise.
      </p>
    </div>

    <div class="detail-block">
      <h3>Constraints</h3>
      <ul>
        <li>Read-only visibility</li>
        <li>No configuration mutation</li>
        <li>No automated remediation</li>
      </ul>
    </div>

  </section>

  <!-- =========================
       RIGHT: AI
       ========================= -->
  <aside class="console-ai"
         role="region"
         aria-labelledby="ai-heading"
         aria-live="polite"
         aria-busy="false">

    <h2 id="ai-heading"
        data-tooltip="AI-assisted explanations derived strictly from Shield findings.">
      AI-Augmented Reasoning
    </h2>

    <p
      class="ai-state disabled ai-subtitle"
      data-tooltip="Select a finding first. AI explanations require an active identity or attack path.">
      Select a finding to enable AI explanations.
    </p>

    <button
      class="ai-btn btn secondary disabled"
      aria-disabled="true"
      aria-describedby="ai-hint"
      disabled
      data-tooltip="Select a finding first. AI explanations require an active identity.">
      Explain with STC AI
    </button>

    <p id="ai-hint" class="visually-hidden">
      AI explanations are read-only and grounded in Shield data.
    </p>

    <div class="ai-output">

      <h3
        data-tooltip="Natural-language explanation generated from deterministic Shield data.">
        Explanation
      </h3>

      <p class="muted">
        AI explanations are grounded in Shield data only.
      </p>

      <h3
        data-tooltip="Every explanation includes dataset provenance for audit and compliance.">
        Citations
      </h3>

      <ul class="citations muted">
        <li>No datasets referenced.</li>
      </ul>

    </div>

  </aside>

</main>

<script src="/js/console-ai.js"></script>

</body>
</html>
